$.widget("fioi.editor",{options:{formName:"documents",keys:{id:"id",title:"title",syntax:"syntax",text:"text",text1:"text1",text2:"text2"},width:760,height:240,changeCallback:null,saveCallback:null,switchCallback:null},_create:function(){this._docsTabList=$("<ul></ul>").attr("id","docsTabList").appendTo(this.element),$("<li></li>").text("+").attr("id","newDoc").appendTo(this._docsTabList),this._docs={},this._currentDoc=null},_createNewContainer:function(t){return this.element.find(".docContainer").hide(),this._docs[t]=$("<div />").addClass("docContainer").css("align","center").attr("id","doc_"+t).appendTo(this.element),this._docs[t]},_createNewTab:function(t,e){var i=this;this._docsTabList.find("li").removeClass("active"),$("<li></li>").addClass("active").attr("id","tab_"+t).text(e).click(function(){i.show(t)}).appendTo(this._docsTabList)},open:function(t,e,i,n){var a=this._createNewContainer(t);$('<input type="hidden" />').attr("name",this._getName(t,"id")).val(t).appendTo(a),$('<input type="hidden" />').attr("name",this._getName(t,"title")).val(e).appendTo(a),$('<input type="hidden" />').attr("name",this._getName(t,"syntax")).val(n).appendTo(a),$("<textarea />").attr("name",this._getName(t,"text")).val(i).width(this.options.width).height(this.options.height).appendTo(a),this._createNewTab(t,e),this._currentDoc=t},openPair:function(t,e,i,n,a,s){var o=this._createNewContainer(t);$('<input type="hidden" />').attr("name",this._getName(t,"id")).val(t).appendTo(o),$('<input type="hidden" />').attr("name",this._getName(t,"title")).val(e).appendTo(o),$("<textarea />").attr("name",this._getName(t,"text1")).val(n).width(this.options.width/2).height(this.options.height).appendTo(o),$("<textarea />").attr("name",this._getName(t,"text2")).val(s).width(this.options.width/2).height(this.options.height).appendTo(o),this._createNewTab(t,e),this._currentDoc=t},show:function(t){this._docsTabList.find("li").removeClass("active"),this._docsTabList.find("#tab_"+t).addClass("active"),this.element.find(".docContainer").hide(),this._docs[t].show(),this._currentDoc=t,this.options.switchCallback&&this.options.switchCallback()},close:function(t){t in this._docs&&(this._docs[t].remove(),delete this._docs[t])},setSyntax:function(t){this._docs[this._currentDoc].find("input[name='"+this._getName(this._currentDoc,"syntax")+"']").val(t)},serialize:function(){return this.element.find("input, textarea, select").serialize()},getDocument:function(t){var e={};return this._getContainer(t).children().each(function(t,i){var n=$(i).attr("name"),n=n.substring(n.lastIndexOf("[")+1,n.lastIndexOf("]")),a=$(i).val();e[n]=a}),e},getAllDocuments:function(){{var t={};this._currentDoc}for(id in this._docs)t[id]=this.getDocument(id);return t},getCurrentDocument:function(){return this.getDocument(this._currentDoc)},getCurrentDocumentId:function(){return this._currentDoc},_getContainer:function(t){return this.element.find("div[id='doc_"+t+"']")},_getName:function(t,e){return this.options.formName+"["+t+"]["+this.options.keys[e]+"]"}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkaXRvci5qcyJdLCJuYW1lcyI6WyIkIiwid2lkZ2V0Iiwib3B0aW9ucyIsImZvcm1OYW1lIiwia2V5cyIsImlkIiwidGl0bGUiLCJzeW50YXgiLCJ0ZXh0IiwidGV4dDEiLCJ0ZXh0MiIsIndpZHRoIiwiaGVpZ2h0IiwiY2hhbmdlQ2FsbGJhY2siLCJzYXZlQ2FsbGJhY2siLCJzd2l0Y2hDYWxsYmFjayIsIl9jcmVhdGUiLCJ0aGlzIiwiX2RvY3NUYWJMaXN0IiwiYXR0ciIsImFwcGVuZFRvIiwiZWxlbWVudCIsIl9kb2NzIiwiX2N1cnJlbnREb2MiLCJfY3JlYXRlTmV3Q29udGFpbmVyIiwiZmluZCIsImhpZGUiLCJhZGRDbGFzcyIsImNzcyIsIl9jcmVhdGVOZXdUYWIiLCJzZWxmIiwicmVtb3ZlQ2xhc3MiLCJjbGljayIsInNob3ciLCJvcGVuIiwiZG9jQ29udGFpbmVyIiwiX2dldE5hbWUiLCJ2YWwiLCJvcGVuUGFpciIsImxlZ2VuZDEiLCJsZWdlbmQyIiwiY2xvc2UiLCJyZW1vdmUiLCJzZXRTeW50YXgiLCJzZXJpYWxpemUiLCJnZXREb2N1bWVudCIsImRvYyIsIl9nZXRDb250YWluZXIiLCJjaGlsZHJlbiIsImVhY2giLCJudW0iLCJlbCIsIm5hbWUiLCJzdWJzdHJpbmciLCJsYXN0SW5kZXhPZiIsImdldEFsbERvY3VtZW50cyIsImRvY3MiLCJnZXRDdXJyZW50RG9jdW1lbnQiLCJnZXRDdXJyZW50RG9jdW1lbnRJZCIsImtleSJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUVDLE9BQU8sZUFDUEMsU0FDRUMsU0FBVSxZQUNWQyxNQUNFQyxHQUFNLEtBQ05DLE1BQVMsUUFDVEMsT0FBVSxTQUNWQyxLQUFRLE9BQ1JDLE1BQVMsUUFDVEMsTUFBUyxTQUVYQyxNQUFPLElBQ1BDLE9BQVEsSUFDUkMsZUFBZ0IsS0FDaEJDLGFBQWMsS0FDZEMsZUFBZ0IsTUFHbEJDLFFBQVMsV0FDUEMsS0FBS0MsYUFBZWxCLEVBQUUsYUFDakJtQixLQUFLLEtBQU0s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QixLQUl0QnNDLFVBQVcsU0FBU3BDLEdBQ2xCVSxLQUFLSyxNQUFNTCxLQUFLTSxhQUNYRSxLQUFLLGVBQWlCUixLQUFLbUIsU0FBU25CLEtBQUtNLFlBQWEsVUFBWSxNQUNsRWMsSUFBSTlCLElBR1hxQyxVQUFXLFdBQ1QsTUFBTzNCLE1BQUtJLFFBQVFJLEtBQUssMkJBQTJCbUIsYUFHdERDLFlBQWEsU0FBU3hDLEdBQ3BCLEdBQUl5QyxLQU9KLE9BTkE3QixNQUFLOEIsY0FBYzFDLEdBQUkyQyxXQUFXQyxLQUFLLFNBQVNDLEVBQUtDLEdBQ25ELEdBQUlDLEdBQU9wRCxFQUFFbUQsR0FBSWhDLEtBQUssUUFDbEJpQyxFQUFPQSxFQUFLQyxVQUFVRCxFQUFLRSxZQUFZLEtBQU8sRUFBR0YsRUFBS0UsWUFBWSxNQUNsRWpCLEVBQU1yQyxFQUFFbUQsR0FBSWQsS0FDaEJTLEdBQUlNLEdBQVFmLElBRVBTLEdBR1RTLGdCQUFpQixXQUNmLENBQUEsR0FBSUMsS0FDUXZDLE1BQUtNLFlBQ2pCLElBQUtsQixLQUFNWSxNQUFLSyxNQUNka0MsRUFBS25ELElBQU1ZLEtBQUs0QixZQUFZeEMsR0FFOUIsT0FBT21ELElBR1RDLG1CQUFvQixXQUNsQixNQUFPeEMsTUFBSzRCLFlBQVk1QixLQUFLTSxjQUcvQm1DLHFCQUFzQixXQUNwQixNQUFPekMsTUFBS00sYUFHZHdCLGNBQWUsU0FBUzFDLEdBQ3RCLE1BQU9ZLE1BQUtJLFFBQVFJLEtBQUssZUFBa0JwQixFQUFLLE9BR2xEK0IsU0FBVSxTQUFTL0IsRUFBSXNELEdBQ3JCLE1BQU8xQyxNQUFLZixRQUFRQyxTQUFXLElBQU1FLEVBQUssS0FBT1ksS0FBS2YsUUFBUUUsS0FBS3VELEdBQU8iLCJmaWxlIjoiZWRpdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJC53aWRnZXQoXCJmaW9pLmVkaXRvclwiLCB7XG4gIG9wdGlvbnM6IHtcbiAgICBmb3JtTmFtZTogXCJkb2N1bWVudHNcIixcbiAgICBrZXlzOiB7XG4gICAgICAnaWQnOiAnaWQnLFxuICAgICAgJ3RpdGxlJzogJ3RpdGxlJyxcbiAgICAgICdzeW50YXgnOiAnc3ludGF4JyxcbiAgICAgICd0ZXh0JzogJ3RleHQnLFxuICAgICAgJ3RleHQxJzogJ3RleHQxJyxcbiAgICAgICd0ZXh0Mic6ICd0ZXh0MicsXG4gICAgfSxcbiAgICB3aWR0aDogNzYwLFxuICAgIGhlaWdodDogMjQwLFxuICAgIGNoYW5nZUNhbGxiYWNrOiBudWxsLFxuICAgIHNhdmVDYWxsYmFjazogbnVsbCxcbiAgICBzd2l0Y2hDYWxsYmFjazogbnVsbCxcbiAgfSxcblxuICBfY3JlYXRlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9kb2NzVGFiTGlzdCA9ICQoJzx1bD48L3VsPicpXG4gICAgICAgIC5hdHRyKCdpZCcsICdkb2NzVGFiTGlzdCcpXG4gICAgICAgIC5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpO1xuICAgICQoJzxsaT48L2xpPicpLnRleHQoJysnKVxuICAgICAgICAuYXR0cignaWQnLCAnbmV3RG9jJylcbiAgICAgICAgLmFwcGVuZFRvKHRoaXMuX2RvY3NUYWJMaXN0KTtcbiAgICB0aGlzLl9kb2NzID0ge307XG4gICAgdGhpcy5fY3VycmVudERvYyA9IG51bGw7XG4gIH0sXG5cbiAgX2NyZWF0ZU5ld0NvbnRhaW5lcjogZnVuY3Rpb24oaWQpIHtcbiAgICB0aGlzLmVsZW1lbnQuZmluZChcIi5kb2NDb250YWluZXJcIikuaGlkZSgpO1xuICAgIHRoaXMuX2RvY3NbaWRdID0gJChcIjxkaXYgLz5cIilcbiAgICAgICAgLmFkZENsYXNzKFwiZG9jQ29udGFpbmVyXCIpXG4gICAgICAgIC5jc3MoJ2FsaWduJywgJ2NlbnRlcicpXG4gICAgICAgIC5hdHRyKCdpZCcsICdkb2NfJyArIGlkKVxuICAgICAgICAuYXBwZW5kVG8odGhpcy5lbGVtZW50KTtcbiAgICByZXR1cm4gdGhpcy5fZG9jc1tpZF07XG4gIH0sXG5cbiAgX2NyZWF0ZU5ld1RhYjogZnVuY3Rpb24oaWQsIHRpdGxlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuX2RvY3NUYWJMaXN0LmZpbmQoJ2xpJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgJCgnPGxpPjwvbGk+JykuYWRkQ2xhc3MoXCJhY3RpdmVcIilcbiAgICAgICAgLmF0dHIoJ2lkJywgJ3RhYl8nICsgaWQpXG4gICAgICAgIC50ZXh0KHRpdGxlKVxuICAgICAgICAuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5zaG93KGlkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmFwcGVuZFRvKHRoaXMuX2RvY3NUYWJMaXN0KTtcbiAgfSxcblxuICBvcGVuOiBmdW5jdGlvbihpZCwgdGl0bGUsIHRleHQsIHN5bnRheCkge1xuICAgIHZhciBkb2NDb250YWluZXIgPSB0aGlzLl9jcmVhdGVOZXdDb250YWluZXIoaWQpO1xuICAgICQoJzxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgLz4nKVxuICAgICAgICAuYXR0cignbmFtZScsIHRoaXMuX2dldE5hbWUoaWQsICdpZCcpKVxuICAgICAgICAudmFsKGlkKVxuICAgICAgICAuYXBwZW5kVG8oZG9jQ29udGFpbmVyKTtcbiAgICAkKCc8aW5wdXQgdHlwZT1cImhpZGRlblwiIC8+JylcbiAgICAgICAgLmF0dHIoJ25hbWUnLCB0aGlzLl9nZXROYW1lKGlkLCAndGl0bGUnKSlcbiAgICAgICAgLnZhbCh0aXRsZSlcbiAgICAgICAgLmFwcGVuZFRvKGRvY0NvbnRhaW5lcik7XG4gICAgJCgnPGlucHV0IHR5cGU9XCJoaWRkZW5cIiAvPicpXG4gICAgICAgIC5hdHRyKCduYW1lJywgdGhpcy5fZ2V0TmFtZShpZCwgJ3N5bnRheCcpKVxuICAgICAgICAudmFsKHN5bnRheClcbiAgICAgICAgLmFwcGVuZFRvKGRvY0NvbnRhaW5lcik7XG4gICAgJCgnPHRleHRhcmVhIC8+JylcbiAgICAgICAgLmF0dHIoJ25hbWUnLCB0aGlzLl9nZXROYW1lKGlkLCAndGV4dCcpKVxuICAgICAgICAudmFsKHRleHQpXG4gICAgICAgIC53aWR0aCh0aGlzLm9wdGlvbnMud2lkdGgpXG4gICAgICAgIC5oZWlnaHQodGhpcy5vcHRpb25zLmhlaWdodClcbiAgICAgICAgLmFwcGVuZFRvKGRvY0NvbnRhaW5lcik7XG4gICAgdGhpcy5fY3JlYXRlTmV3VGFiKGlkLCB0aXRsZSk7XG4gICAgdGhpcy5fY3VycmVudERvYyA9IGlkO1xuICB9LFxuXG4gIG9wZW5QYWlyOiBmdW5jdGlvbihpZCwgdGl0bGUsIGxlZ2VuZDEsIHRleHQxLCBsZWdlbmQyLCB0ZXh0Mikge1xuICAgIHZhciBkb2NDb250YWluZXIgPSB0aGlzLl9jcmVhdGVOZXdDb250YWluZXIoaWQpO1xuICAgICQoJzxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgLz4nKVxuICAgICAgICAuYXR0cignbmFtZScsIHRoaXMuX2dldE5hbWUoaWQsICdpZCcpKVxuICAgICAgICAudmFsKGlkKVxuICAgICAgICAuYXBwZW5kVG8oZG9jQ29udGFpbmVyKTtcbiAgICAkKCc8aW5wdXQgdHlwZT1cImhpZGRlblwiIC8+JylcbiAgICAgICAgLmF0dHIoJ25hbWUnLCB0aGlzLl9nZXROYW1lKGlkLCAndGl0bGUnKSlcbiAgICAgICAgLnZhbCh0aXRsZSlcbiAgICAgICAgLmFwcGVuZFRvKGRvY0NvbnRhaW5lcik7XG4gICAgJCgnPHRleHRhcmVhIC8+JylcbiAgICAgICAgLmF0dHIoJ25hbWUnLCB0aGlzLl9nZXROYW1lKGlkLCAndGV4dDEnKSlcbiAgICAgICAgLnZhbCh0ZXh0MSlcbiAgICAgICAgLndpZHRoKHRoaXMub3B0aW9ucy53aWR0aCAvIDIpXG4gICAgICAgIC5oZWlnaHQodGhpcy5vcHRpb25zLmhlaWdodClcbiAgICAgICAgLmFwcGVuZFRvKGRvY0NvbnRhaW5lcik7XG4gICAgJCgnPHRleHRhcmVhIC8+JylcbiAgICAgICAgLmF0dHIoJ25hbWUnLCB0aGlzLl9nZXROYW1lKGlkLCAndGV4dDInKSlcbiAgICAgICAgLnZhbCh0ZXh0MilcbiAgICAgICAgLndpZHRoKHRoaXMub3B0aW9ucy53aWR0aCAvIDIpXG4gICAgICAgIC5oZWlnaHQodGhpcy5vcHRpb25zLmhlaWdodClcbiAgICAgICAgLmFwcGVuZFRvKGRvY0NvbnRhaW5lcik7XG4gICAgdGhpcy5fY3JlYXRlTmV3VGFiKGlkLCB0aXRsZSk7XG4gICAgdGhpcy5fY3VycmVudERvYyA9IGlkO1xuICB9LFxuXG4gIHNob3c6IGZ1bmN0aW9uKGlkKSB7XG4gICAgdGhpcy5fZG9jc1RhYkxpc3QuZmluZCgnbGknKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICB0aGlzLl9kb2NzVGFiTGlzdC5maW5kKCcjdGFiXycgKyBpZCkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgdGhpcy5lbGVtZW50LmZpbmQoXCIuZG9jQ29udGFpbmVyXCIpLmhpZGUoKTtcbiAgICB0aGlzLl9kb2NzW2lkXS5zaG93KCk7XG4gICAgdGhpcy5fY3VycmVudERvYyA9IGlkO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc3dpdGNoQ2FsbGJhY2spIHRoaXMub3B0aW9ucy5zd2l0Y2hDYWxsYmFjaygpO1xuICB9LFxuXG4gIGNsb3NlOiBmdW5jdGlvbihpZCkge1xuICAgIGlmIChpZCBpbiB0aGlzLl9kb2NzKSB7XG4gICAgICB0aGlzLl9kb2NzW2lkXS5yZW1vdmUoKTtcbiAgICAgIGRlbGV0ZSB0aGlzLl9kb2NzW2lkXTtcbiAgICB9XG4gIH0sXG5cbiAgc2V0U3ludGF4OiBmdW5jdGlvbihzeW50YXgpIHtcbiAgICB0aGlzLl9kb2NzW3RoaXMuX2N1cnJlbnREb2NdXG4gICAgICAgIC5maW5kKFwiaW5wdXRbbmFtZT0nXCIgKyB0aGlzLl9nZXROYW1lKHRoaXMuX2N1cnJlbnREb2MsICdzeW50YXgnKSArIFwiJ11cIilcbiAgICAgICAgLnZhbChzeW50YXgpO1xuICB9LFxuXG4gIHNlcmlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC5maW5kKCdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcpLnNlcmlhbGl6ZSgpO1xuICB9LFxuXG4gIGdldERvY3VtZW50OiBmdW5jdGlvbihpZCkge1xuICAgIHZhciBkb2MgPSB7fTtcbiAgICB0aGlzLl9nZXRDb250YWluZXIoaWQpLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbihudW0sIGVsKSB7XG4gICAgICB2YXIgbmFtZSA9ICQoZWwpLmF0dHIoJ25hbWUnKTtcbiAgICAgIHZhciBuYW1lID0gbmFtZS5zdWJzdHJpbmcobmFtZS5sYXN0SW5kZXhPZignWycpICsgMSwgbmFtZS5sYXN0SW5kZXhPZignXScpKTtcbiAgICAgIHZhciB2YWwgPSAkKGVsKS52YWwoKTtcbiAgICAgIGRvY1tuYW1lXSA9IHZhbDtcbiAgICB9KTtcbiAgICByZXR1cm4gZG9jO1xuICB9LFxuXG4gIGdldEFsbERvY3VtZW50czogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRvY3MgPSB7fTtcbiAgICB2YXIgY3VySWQgPSB0aGlzLl9jdXJyZW50RG9jO1xuICAgIGZvciAoaWQgaW4gdGhpcy5fZG9jcykge1xuICAgICAgZG9jc1tpZF0gPSB0aGlzLmdldERvY3VtZW50KGlkKTtcbiAgICB9XG4gICAgcmV0dXJuIGRvY3M7XG4gIH0sXG5cbiAgZ2V0Q3VycmVudERvY3VtZW50OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXREb2N1bWVudCh0aGlzLl9jdXJyZW50RG9jKTtcbiAgfSxcblxuICBnZXRDdXJyZW50RG9jdW1lbnRJZDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnREb2M7XG4gIH0sXG5cbiAgX2dldENvbnRhaW5lcjogZnVuY3Rpb24oaWQpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50LmZpbmQoJ2RpdltpZD1cXCdkb2NfJyArIGlkICsgJ1xcJ10nKTtcbiAgfSxcbiAgXG4gIF9nZXROYW1lOiBmdW5jdGlvbihpZCwga2V5KSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5mb3JtTmFtZSArICdbJyArIGlkICsgJ11bJyArIHRoaXMub3B0aW9ucy5rZXlzW2tleV0gKyAnXSc7XG4gIH1cbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
function getURLParameter(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}function translate(e){return e}function getFocusEditor(){$("#frame_sourcesTextArea").contents().find("textarea").focus()}function getLanguageForServer(e){var t={"text/x-csrc":"C","text/x-c++src":"C++","text/x-ocaml":"OCaml","text/x-pascal":"Pascal","text/x-java":"Java","text/x-javascool":"Javascool","text/x-python":"Python","":""};return t[e?e:""]}function getLanguageFromServer(e){var t={C:"text/x-csrc","C++":"text/x-c++src",OCaml:"text/x-ocaml",Pascal:"text/x-pascal",Java:"text/x-java",JavaScool:"text/x-javascool",Python:"text/x-python","":""};return t[e?e:""]}function callAjax(e,t,a,s,o,r){e&&$.blockUI({message:"<h1>"+e+"</h1>"}),setTimeout(function(){saveAjax(e,t,a,s,o,r)},350)}function saveAjax(e,t,a,s,o,r){saveRunning&&(clearTimeout(timeOutCall),timeOutCall=setTimeout(function(){saveAjax(e,t,a,s,o,r)},1e3)),clearTimeout(timeOutCall),saveRunning=!0;var n={},c=$("#sourcesEditor").editor("getCurrentDocumentId");console.error(c);var u=$("#sourcesEditor").editor("getAllDocuments");n.sources={},$.each(u,function(e,t){n.sources[e]={sSource:t.text,bActive:e==c,sParams:JSON.stringify({sLangProg:getLanguageForServer(t.syntax)})}}),console.error(n.sources);var l=$("#testsEditor").editor("getAllDocuments");n.tests={},$.each(l,function(e,t){n.tests[e]={sName:t.title,sInput:t.text1,sOutput:t.text2,bSave:Object.keys(n.tests).length>=userData.nbDefaultTests}}),"lycee"==s&&(n.tests.__lycee__={sName:"test",sInput:$("[name=UniqueTest]").val(),sOutput:"",bSave:!1},s=Object.keys(n.tests).length),void 0!=s&&(n.sTestToEvaluate=s,n.sSourceToEvaluate=o),n.bBasicEditorMode=$("#bIsBasic").val(),setToNotModified(),$.ajax({type:"POST",url:ajaxUrl+"?sAction=save&sToken="+sToken+"&sPlatform="+sPlatform,data:n,dataType:"json",async:""==e,success:function(e,s,o){return e?void(e.bSuccess?t(e.html):a(e.sError)):a(translate("invalidAnswer"))},error:function(e,t,s){a(translate("invalidAnswer"))},complete:function(){(void 0==r||1==r)&&$.unblockUI(),saveRunning=!1}})}function getUserData(){var e;return $.ajax({type:"POST",url:ajaxUrl+"?sAction=get&sToken="+sToken+"&sPlatform="+sPlatform,dataType:"json",async:!1,success:function(t,a,s){t&&t.bSuccess&&(e=t.aData)},error:function(e,t,a){console.error(t),console.error(a)}}),e}var sToken=getURLParameter("sToken"),sPlatform=getURLParameter("sPlatform"),replace_tab_by_spaces="3",editorLang="fr",bLycees=!1,bUserTests=!1,ajaxUrl="editor.php",saveRunning,timeOutCall;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJnZXRVUkxQYXJhbWV0ZXIiLCJuYW1lIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiUmVnRXhwIiwiZXhlYyIsImxvY2F0aW9uIiwic2VhcmNoIiwicmVwbGFjZSIsInRyYW5zbGF0ZSIsIndvcmQiLCJnZXRGb2N1c0VkaXRvciIsIiQiLCJjb250ZW50cyIsImZpbmQiLCJmb2N1cyIsImdldExhbmd1YWdlRm9yU2VydmVyIiwic0xhbmdQcm9nIiwiZXh0MkxhbmciLCJ0ZXh0L3gtY3NyYyIsInRleHQveC1jKytzcmMiLCJ0ZXh0L3gtb2NhbWwiLCJ0ZXh0L3gtcGFzY2FsIiwidGV4dC94LWphdmEiLCJ0ZXh0L3gtamF2YXNjb29sIiwidGV4dC94LXB5dGhvbiIsImdldExhbmd1YWdlRnJvbVNlcnZlciIsIkMiLCJDKysiLCJPQ2FtbCIsIlBhc2NhbCIsIkphdmEiLCJKYXZhU2Nvb2wiLCJQeXRob24iLCJjYWxsQWpheCIsIm1lc3NhZ2UiLCJjYWxsQmFja09rIiwiY2FsbEJhY2tGYWlsZWQiLCJ0ZXN0VG9FdmFsdWF0ZSIsInNvdXJjZVRvRXZhbHVhdGUiLCJiVW5ibG9jayIsImJsb2NrVUkiLCJzZXRUaW1lb3V0Iiwic2F2ZUFqYXgiLCJzYXZlUnVubmluZyIsImNsZWFyVGltZW91dCIsInRpbWVPdXRDYWxsIiwicGFyYW1zIiwiY3VycmVudElkIiwiZWRpdG9yIiwiY29uc29sZSIsImVycm9yIiwic291cmNlcyIsImVhY2giLCJrZXkiLCJ2YWx1ZSIsInNTb3VyY2UiLCJ0ZXh0IiwiYkFjdGl2ZSIsInNQYXJhbXMiLCJKU09OIiwic3RyaW5naWZ5Iiwic3ludGF4IiwidGVzdHMiLCJzTmFtZSIsInRpdGxlIiwic0lucHV0IiwidGV4dDEiLCJzT3V0cHV0IiwidGV4dDIiLCJiU2F2ZSIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJ1c2VyRGF0YSIsIm5iRGVmYXVsdFRlc3RzIiwidmFsIiwidW5kZWZpbmVkIiwic2V0VG9Ob3RNb2RpZmllZCIsImFqYXgiLCJ0eXBlIiwidXJsIiwiYWpheFVybCIsInNUb2tlbiIsInNQbGF0Zm9ybSIsImRhdGEiLCJkYXRhVHlwZSIsImFzeW5jIiwic3VjY2VzcyIsInJlc3VsdCIsInRleHRTdGF0dXMiLCJYTUxIdHRwUmVxdWVzdCIsImJTdWNjZXNzIiwiaHRtbCIsInNFcnJvciIsImVycm9yVGhyb3duIiwiY29tcGxldGUiLCJ1bmJsb2NrVUkiLCJnZXRVc2VyRGF0YSIsImFEYXRhIiwicmVwbGFjZV90YWJfYnlfc3BhY2VzIiwiZWRpdG9yTGFuZyIsImJMeWNlZXMiLCJiVXNlclRlc3RzIl0sIm1hcHBpbmdzIjoiQUFFQSxRQUFTQSxpQkFBZ0JDLEdBQ3ZCLE1BQU9DLHFCQUFvQixHQUFJQyxRQUFPLFFBQVVGLEVBQU8sdUJBQTRCRyxLQUFLQyxTQUFTQyxVQUFVLENBQUMsS0FBSyxHQUFHQyxRQUFRLE1BQU8sU0FBUyxLQWM5SSxRQUFTQyxXQUFVQyxHQUNqQixNQUFPQSxHQUdULFFBQVNDLGtCQUNQQyxFQUFFLDBCQUEwQkMsV0FBV0MsS0FBSyxZQUFZQyxRQUcxRCxRQUFTQyxzQkFBcUJDLEdBQzVCLEdBQUlDLElBQVlDLGNBQWMsSUFBSUMsZ0JBQWdCLE1BQU1DLGVBQWUsUUFBUUMsZ0JBQWdCLFNBQVNDLGNBQWMsT0FBT0MsbUJBQW1CLFlBQVlDLGdCQUFnQixTQUFVLEdBQUcsR0FDekwsT0FBT1AsR0FBU0QsRUFBWUEsRUFBWSxJQUcxQyxRQUFTUyx1QkFBc0JULEdBQzdCLEdBQUlDLElBQVlTLEVBQUksY0FBY0MsTUFBTSxnQkFBZ0JDLE1BQVEsZUFBZUMsT0FBUyxnQkFBZ0JDLEtBQU8sY0FBY0MsVUFBWSxtQkFBbUJDLE9BQVMsZ0JBQWlCLEdBQUcsR0FDekwsT0FBT2YsR0FBU0QsRUFBWUEsRUFBWSxJQUcxQyxRQUFTaUIsVUFBU0MsRUFBU0MsRUFBWUMsRUFBZ0JDLEVBQWdCQyxFQUFrQkMsR0FDbkZMLEdBQ0Z2QixFQUFFNkIsU0FDQU4sUUFBUyxPQUFTQSxFQUFVLFVBR2hDTyxXQUFXLFdBQ1RDLFNBQVNSLEVBQVNDLEVBQVlDLEVBQWdCQyxFQUFnQkMsRUFBa0JDLElBQy9FLEtBR0wsUUFBU0csVUFBU1IsRUFBU0MsRUFBWUMsRUFBZ0JDLEVBQWdCQyxFQUFrQkMsR0FFbkZJLGNBQ0ZDLGFBQWFDLGFBQ2JBLFlBQWNKLFdBQVcsV0FDdkJDLFNBQVNSLEVBQVNDLEVBQVlDLEVBQWdCQyxFQUFnQkMsRUFBa0JDLElBQy9FLE1BRUxLLGFBQWFDLGFBRWJGLGFBQWMsQ0FHZCxJQUFJRyxNQUVBQyxFQUFZcEMsRUFBRSxrQkFBa0JxQyxPQUFPLHVCQUMzQ0MsU0FBUUMsTUFBTUgsRUFDZCxJQUFJSSxHQUFVeEMsRUFBRSxrQkFBa0JxQyxPQUFPLGtCQUN6Q0YsR0FBZ0IsV0FDaEJuQyxFQUFFeUMsS0FBS0QsRUFBUyxTQUFTRSxFQUFLQyxHQUM1QlIsRUFBZ0IsUUFBRU8sSUFDaEJFLFFBQVlELEVBQU1FLEtBQ2xCQyxRQUFhSixHQUFPTixFQUNwQlcsUUFBWUMsS0FBS0MsV0FBVzVDLFVBQVdELHFCQUFxQnVDLEVBQU1PLGFBR3RFWixRQUFRQyxNQUFNSixFQUFnQixRQUU5QixJQUFJZ0IsR0FBUW5ELEVBQUUsZ0JBQWdCcUMsT0FBTyxrQkFDckNGLEdBQWMsU0FDZG5DLEVBQUV5QyxLQUFLVSxFQUFPLFNBQVNULEVBQUtDLEdBQzFCUixFQUFjLE1BQUVPLElBQ2RVLE1BQVVULEVBQU1VLE1BQ2hCQyxPQUFXWCxFQUFNWSxNQUNqQkMsUUFBWWIsRUFBTWMsTUFDbEJDLE1BQVdDLE9BQU9DLEtBQUt6QixFQUFjLE9BQUcwQixRQUFVQyxTQUFTQyxrQkFJekMsU0FBbEJyQyxJQUNGUyxFQUFjLE1BQWEsV0FDekJpQixNQUFVLE9BQ1ZFLE9BQVd0RCxFQUFFLHFCQUFxQmdFLE1BQ2xDUixRQUFZLEdBQ1pFLE9BQVUsR0FFWmhDLEVBQWlCaUMsT0FBT0MsS0FBS3pCLEVBQWMsT0FBRzBCLFFBRzFCSSxRQUFsQnZDLElBQ0ZTLEVBQXdCLGdCQUFJVCxFQUM1QlMsRUFBMEIsa0JBQUlSLEdBR2hDUSxFQUF5QixpQkFBSW5DLEVBQUUsYUFBYWdFLE1BRTVDRSxtQkFFQWxFLEVBQUVtRSxNQUNBQyxLQUFLLE9BQ0xDLElBQUtDLFFBQVEsd0JBQTBCQyxPQUFTLGNBQWdCQyxVQUNoRUMsS0FBTXRDLEVBQ051QyxTQUFVLE9BQ1ZDLE1BQW1CLElBQVhwRCxFQUNScUQsUUFBUyxTQUFTQyxFQUFRQyxFQUFZQyxHQUNwQyxNQUFLRixRQUVNQSxFQUFPRyxTQUdoQnhELEVBQVdxRCxFQUFPSSxNQUVsQnhELEVBQWVvRCxFQUFPSyxTQU5mekQsRUFBZTVCLFVBQVUsbUJBU3BDMEMsTUFBTyxTQUFTd0MsRUFBZ0JELEVBQVlLLEdBRTFDMUQsRUFBZTVCLFVBQVUsbUJBRTNCdUYsU0FBVSxZQUNRbkIsUUFBWnJDLEdBQXFDLEdBQVpBLElBQzNCNUIsRUFBRXFGLFlBR0pyRCxhQUFjLEtBS3BCLFFBQVNzRCxlQUNQLEdBQUl4QixFQWlCSixPQWhCQTlELEdBQUVtRSxNQUNBQyxLQUFNLE9BQ05DLElBQUtDLFFBQVEsdUJBQXlCQyxPQUFTLGNBQWdCQyxVQUMvREUsU0FBVSxPQUNWQyxPQUFPLEVBQ1BDLFFBQVMsU0FBU0MsRUFBUUMsRUFBWUMsR0FDL0JGLEdBQVdBLEVBQU9HLFdBR3ZCbEIsRUFBV2UsRUFBT1UsUUFFcEJoRCxNQUFPLFNBQVV3QyxFQUFnQkQsRUFBWUssR0FDM0M3QyxRQUFRQyxNQUFNdUMsR0FDZHhDLFFBQVFDLE1BQU00QyxNQUdYckIsRUFuSlQsR0FBSVMsUUFBU2xGLGdCQUFnQixVQUN6Qm1GLFVBQVluRixnQkFBZ0IsYUFDNUJtRyxzQkFBd0IsSUFDeEJDLFdBQWEsS0FDYkMsU0FBVSxFQUNWQyxZQUFhLEVBQ2JyQixRQUFVLGFBRVZ0QyxZQUNBRSIsImZpbGUiOiJjb21tb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUT0RPKGp1bGllbm0pOiBNb3ZlL2RlbGV0ZSB0aGlzIGNvZGUuXG5cbmZ1bmN0aW9uIGdldFVSTFBhcmFtZXRlcihuYW1lKSB7XG4gIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoKG5ldyBSZWdFeHAoJ1s/fCZdJyArIG5hbWUgKyAnPScgKyAnKFteJjtdKz8pKCZ8I3w7fCQpJykuZXhlYyhsb2NhdGlvbi5zZWFyY2gpfHxbLFwiXCJdKVsxXS5yZXBsYWNlKC9cXCsvZywgJyUyMCcpKXx8bnVsbFxufVxuXG52YXIgc1Rva2VuID0gZ2V0VVJMUGFyYW1ldGVyKCdzVG9rZW4nKTtcbnZhciBzUGxhdGZvcm0gPSBnZXRVUkxQYXJhbWV0ZXIoJ3NQbGF0Zm9ybScpO1xudmFyIHJlcGxhY2VfdGFiX2J5X3NwYWNlcyA9IFwiM1wiO1xudmFyIGVkaXRvckxhbmcgPSBcImZyXCI7XG52YXIgYkx5Y2VlcyA9IGZhbHNlO1xudmFyIGJVc2VyVGVzdHMgPSBmYWxzZTtcbnZhciBhamF4VXJsID0gJ2VkaXRvci5waHAnO1xuXG52YXIgc2F2ZVJ1bm5pbmc7XG52YXIgdGltZU91dENhbGw7XG5cbmZ1bmN0aW9uIHRyYW5zbGF0ZSh3b3JkKSB7XG4gIHJldHVybiB3b3JkO1xufVxuXG5mdW5jdGlvbiBnZXRGb2N1c0VkaXRvcigpIHtcbiAgJChcIiNmcmFtZV9zb3VyY2VzVGV4dEFyZWFcIikuY29udGVudHMoKS5maW5kKFwidGV4dGFyZWFcIikuZm9jdXMoKTsgICBcbn1cblxuZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VGb3JTZXJ2ZXIoc0xhbmdQcm9nKSB7XG4gIHZhciBleHQyTGFuZyA9IHsndGV4dC94LWNzcmMnOidDJywndGV4dC94LWMrK3NyYyc6J0MrKycsJ3RleHQveC1vY2FtbCc6J09DYW1sJywndGV4dC94LXBhc2NhbCc6J1Bhc2NhbCcsJ3RleHQveC1qYXZhJzonSmF2YScsJ3RleHQveC1qYXZhc2Nvb2wnOidKYXZhc2Nvb2wnLCd0ZXh0L3gtcHl0aG9uJzonUHl0aG9uJywgJyc6Jyd9O1xuICByZXR1cm4gZXh0Mkxhbmdbc0xhbmdQcm9nID8gc0xhbmdQcm9nIDogJyddO1xufVxuXG5mdW5jdGlvbiBnZXRMYW5ndWFnZUZyb21TZXJ2ZXIoc0xhbmdQcm9nKSB7XG4gIHZhciBleHQyTGFuZyA9IHsnQyc6J3RleHQveC1jc3JjJywnQysrJzondGV4dC94LWMrK3NyYycsJ09DYW1sJzondGV4dC94LW9jYW1sJywnUGFzY2FsJzondGV4dC94LXBhc2NhbCcsJ0phdmEnOid0ZXh0L3gtamF2YScsJ0phdmFTY29vbCc6J3RleHQveC1qYXZhc2Nvb2wnLCdQeXRob24nOid0ZXh0L3gtcHl0aG9uJywgJyc6Jyd9O1xuICByZXR1cm4gZXh0Mkxhbmdbc0xhbmdQcm9nID8gc0xhbmdQcm9nIDogJyddO1xufVx0XG5cbmZ1bmN0aW9uIGNhbGxBamF4KG1lc3NhZ2UsIGNhbGxCYWNrT2ssIGNhbGxCYWNrRmFpbGVkLCB0ZXN0VG9FdmFsdWF0ZSwgc291cmNlVG9FdmFsdWF0ZSwgYlVuYmxvY2spIHtcbiAgaWYgKG1lc3NhZ2UpIHtcbiAgICAkLmJsb2NrVUkoeyBcbiAgICAgIG1lc3NhZ2U6ICc8aDE+JyArIG1lc3NhZ2UgKyAnPC9oMT4nIFxuICAgIH0pO1xuICB9XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgc2F2ZUFqYXgobWVzc2FnZSwgY2FsbEJhY2tPaywgY2FsbEJhY2tGYWlsZWQsIHRlc3RUb0V2YWx1YXRlLCBzb3VyY2VUb0V2YWx1YXRlLCBiVW5ibG9jayk7XG4gIH0sIDM1MCk7XG59XG5cbmZ1bmN0aW9uIHNhdmVBamF4KG1lc3NhZ2UsIGNhbGxCYWNrT2ssIGNhbGxCYWNrRmFpbGVkLCB0ZXN0VG9FdmFsdWF0ZSwgc291cmNlVG9FdmFsdWF0ZSwgYlVuYmxvY2spIHtcbiAgLy8gQXV0byBzYXZlIGRldGVjdGVkLCBsZXQncyB0cnkgbGF0ZXJcbiAgaWYgKHNhdmVSdW5uaW5nKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVPdXRDYWxsKTtcbiAgICB0aW1lT3V0Q2FsbCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBzYXZlQWpheChtZXNzYWdlLCBjYWxsQmFja09rLCBjYWxsQmFja0ZhaWxlZCwgdGVzdFRvRXZhbHVhdGUsIHNvdXJjZVRvRXZhbHVhdGUsIGJVbmJsb2NrKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxuICBjbGVhclRpbWVvdXQodGltZU91dENhbGwpO1xuXG4gIHNhdmVSdW5uaW5nID0gdHJ1ZTtcblx0ICAgXG4gIC8vIEFjdW11bGF0ZSBkYXRhXG4gIHZhciBwYXJhbXMgPSB7fTtcblxuICB2YXIgY3VycmVudElkID0gJCgnI3NvdXJjZXNFZGl0b3InKS5lZGl0b3IoJ2dldEN1cnJlbnREb2N1bWVudElkJyk7XG4gIGNvbnNvbGUuZXJyb3IoY3VycmVudElkKTtcbiAgdmFyIHNvdXJjZXMgPSAkKCcjc291cmNlc0VkaXRvcicpLmVkaXRvcignZ2V0QWxsRG9jdW1lbnRzJyk7XG4gIHBhcmFtc1snc291cmNlcyddID0ge307XG4gICQuZWFjaChzb3VyY2VzLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgcGFyYW1zWydzb3VyY2VzJ11ba2V5XSA9IHtcbiAgICAgICdzU291cmNlJyA6IHZhbHVlLnRleHQsXG4gICAgICAnYkFjdGl2ZScgOiAoa2V5ID09IGN1cnJlbnRJZCksXG4gICAgICAnc1BhcmFtcycgOiBKU09OLnN0cmluZ2lmeSh7c0xhbmdQcm9nOiBnZXRMYW5ndWFnZUZvclNlcnZlcih2YWx1ZS5zeW50YXgpfSlcbiAgICAgfTtcbiAgfSk7XG4gIGNvbnNvbGUuZXJyb3IocGFyYW1zWydzb3VyY2VzJ10pO1xuXG4gIHZhciB0ZXN0cyA9ICQoJyN0ZXN0c0VkaXRvcicpLmVkaXRvcignZ2V0QWxsRG9jdW1lbnRzJyk7XG4gIHBhcmFtc1sndGVzdHMnXSA9IHt9O1xuICAkLmVhY2godGVzdHMsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICBwYXJhbXNbJ3Rlc3RzJ11ba2V5XSA9IHtcbiAgICAgICdzTmFtZScgOiB2YWx1ZS50aXRsZSxcbiAgICAgICdzSW5wdXQnIDogdmFsdWUudGV4dDEsXG4gICAgICAnc091dHB1dCcgOiB2YWx1ZS50ZXh0MixcbiAgICAgICdiU2F2ZScgOiAoT2JqZWN0LmtleXMocGFyYW1zWyd0ZXN0cyddKS5sZW5ndGggPj0gdXNlckRhdGEubmJEZWZhdWx0VGVzdHMpXG4gICAgIH07XG4gIH0pO1xuXG4gIGlmICh0ZXN0VG9FdmFsdWF0ZSA9PSAnbHljZWUnKSB7XG4gICAgcGFyYW1zWyd0ZXN0cyddWydfX2x5Y2VlX18nXSA9IHtcbiAgICAgICdzTmFtZScgOiAndGVzdCcsXG4gICAgICAnc0lucHV0JyA6ICQoJ1tuYW1lPVVuaXF1ZVRlc3RdJykudmFsKCksXG4gICAgICAnc091dHB1dCcgOiAnJyxcbiAgICAgICdiU2F2ZScgOiBmYWxzZVxuICAgIH07XG4gICAgdGVzdFRvRXZhbHVhdGUgPSBPYmplY3Qua2V5cyhwYXJhbXNbJ3Rlc3RzJ10pLmxlbmd0aDtcbiAgfVxuXG4gIGlmICh0ZXN0VG9FdmFsdWF0ZSAhPSB1bmRlZmluZWQpIHtcbiAgICBwYXJhbXNbJ3NUZXN0VG9FdmFsdWF0ZSddID0gdGVzdFRvRXZhbHVhdGU7XG4gICAgcGFyYW1zWydzU291cmNlVG9FdmFsdWF0ZSddID0gc291cmNlVG9FdmFsdWF0ZTtcbiAgfVxuXHRcdFxuICBwYXJhbXNbJ2JCYXNpY0VkaXRvck1vZGUnXSA9ICQoXCIjYklzQmFzaWNcIikudmFsKCk7XG5cbiAgc2V0VG9Ob3RNb2RpZmllZCgpO1xuXG4gICQuYWpheCh7XG4gICAgdHlwZTonUE9TVCcsXG4gICAgdXJsOiBhamF4VXJsK1wiP3NBY3Rpb249c2F2ZSZzVG9rZW49XCIgKyBzVG9rZW4gKyBcIiZzUGxhdGZvcm09XCIgKyBzUGxhdGZvcm0sXG4gICAgZGF0YTogcGFyYW1zLFxuICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICBhc3luYzogKG1lc3NhZ2UgPT0gJycpLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCwgdGV4dFN0YXR1cywgWE1MSHR0cFJlcXVlc3QpIHtcbiAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIHJldHVybiBjYWxsQmFja0ZhaWxlZCh0cmFuc2xhdGUoXCJpbnZhbGlkQW5zd2VyXCIpKTtcbiAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmJTdWNjZXNzKSB7XG4gICAgICAgIC8vIE1hcmsgYWxsIGZpbGVzIGFzIG5vdCBtb2RpZmllZFxuICAgICAgICAvL3NldFRvTm90TW9kaWZpZWQoKTtcbiAgICAgICAgY2FsbEJhY2tPayhyZXN1bHQuaHRtbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsQmFja0ZhaWxlZChyZXN1bHQuc0Vycm9yKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGVycm9yOiBmdW5jdGlvbihYTUxIdHRwUmVxdWVzdCwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcbiAgICAgIC8vc2V0VG9Nb2RpZmllZCgpO1xuICAgICAgY2FsbEJhY2tGYWlsZWQodHJhbnNsYXRlKFwiaW52YWxpZEFuc3dlclwiKSk7ICBcbiAgICB9LFxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChiVW5ibG9jayA9PSB1bmRlZmluZWQgfHwgYlVuYmxvY2sgPT0gdHJ1ZSkge1xuICAgICAgICAkLnVuYmxvY2tVSSgpO1xuICAgICAgfVxuICAgICAgLy9wbGFuQXV0b1NhdmUoKTtcbiAgICAgIHNhdmVSdW5uaW5nID0gZmFsc2U7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0VXNlckRhdGEoKSB7XG4gIHZhciB1c2VyRGF0YTtcbiAgJC5hamF4KHtcbiAgICB0eXBlOiAnUE9TVCcsXG4gICAgdXJsOiBhamF4VXJsKyc/c0FjdGlvbj1nZXQmc1Rva2VuPScgKyBzVG9rZW4gKyAnJnNQbGF0Zm9ybT0nICsgc1BsYXRmb3JtLFxuICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICBhc3luYzogZmFsc2UsXG4gICAgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0LCB0ZXh0U3RhdHVzLCBYTUxIdHRwUmVxdWVzdCkge1xuICAgICAgaWYgKCFyZXN1bHQgfHwgIXJlc3VsdC5iU3VjY2Vzcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1c2VyRGF0YSA9IHJlc3VsdC5hRGF0YTtcbiAgICB9LFxuICAgIGVycm9yOiBmdW5jdGlvbiAoWE1MSHR0cFJlcXVlc3QsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XG4gICAgICBjb25zb2xlLmVycm9yKHRleHRTdGF0dXMpO1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvclRocm93bik7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHVzZXJEYXRhO1xufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
function save(){callAjax(translate("Save"),function(){dirty=!1},function(e){console.error(translate("saveError")+e)})}function submit(){$("buttonSubmit").qtip("hide");var e=$("#sourcesEditor").editor("getCurrentDocument");return e?platform.validate("done"):alert(translate("noSourceSelected")),!1}function testAll(){var e=$("#testsEditor").editor("getAllDocuments");if(0==Object.keys(e).length)return void alert(translate("noTest"));var t=$("#sourcesEditor").editor("getCurrentDocument");t?$("#tests_results").tester("test",t.id,"all"):alert(translate("noSourceSelected"))}function test(){var e=$("#sourcesEditor").editor("getCurrentDocument"),t=$("#testsEditor").editor("getCurrentDocument");if(e&&t){var o=parseInt(t.id.replace(/[^0-9]/g,""));$("#tests_results").tester("test",e.id,o)}else e?t||alert(translate("noTestSelected")):alert(translate("noSourceSelected"))}function testLycee(){var e=$("#sourcesEditor").editor("getCurrentDocument");e?$("#tests_results").tester("test",e.id,"lycee"):alert(translate("noSourceSelected"))}function initButtons(){$("#buttonSave").click(save),$("#buttonSubmit").click(submit),$("#buttonTestAll").click(testAll),$("#buttonTest").click(test),$("#buttonTestOne").click(testLycee),$("#sourcesEditor #newDoc").click(newSource),$("#testsEditor #newDoc, #buttonAddTest").click(newTest)}function newSource(){var e,t=$("#sourcesEditor").editor("getAllDocuments");for(e=1;t["Code"+e];e++);return e>maxNbSources?void alert(translate("maxNbSources").replace("%d",maxNbSources)):void $("#sourcesEditor").editor("open","Code"+e,"Code"+e,"",getLanguageFromServer($("#selectLanguageSelection").val()))}function newTest(){var e,t=$("#testsEditor").editor("getAllDocuments");for(e=1;t["Test"+e];e++);return e>maxNbTests?void alert(translate("maxNbTests").replace("%d",maxNbTests)):void $("#testsEditor").editor("openPair","Test"+e,"Test"+e,"in","","out","")}function selectFirstForComboLanguage(){var e=$("#selectLanguageSelection").val();e||(e="");var t=$("#sourcesEditor").editor("getAllDocuments");for(key in t)if(e==getLanguageForServer(t[key].syntax))return void $("#sourcesEditor").editor("show",key);newSource()}function updateComboLanguage(){var e=$("#sourcesEditor").editor("getCurrentDocument");$("#selectLanguageSelection").val(getLanguageForServer(e.syntax))}function handleChange(e){dirty=!0}function setToNotModified(){dirty=!1}function goMode(){1==$("#bIsBasic").val()?goBasicMode():goExpertMode()}function goBasicMode(){$("#buttonAddTestDiv").show(),$("#sourcesEditor #docsTabList").hide(),$("#sourcesEditor .CodeMirror").addClass("basic"),$("#testsEditor #newDoc").hide(),$("#buttonAddTestDiv").show()}function goExpertMode(){$("#buttonAddTestDiv").hide(),$("#sourcesEditor #docsTabList").show(),$("#sourcesEditor .CodeMirror").removeClass("basic"),$("#testsEditor #newDoc").show(),$("#buttonAddTestDiv").hide()}function startEditor(){$(window).bind("beforeunload",function(){return dirty?translate("unsavedChanges"):void 0}),userData=getUserData();var e=$("#sourcesEditor").editor();e.editor("option","changeCallback",handleChange),e.editor("option","saveCallback",save),e.editor("option","switchCallback",updateComboLanguage);var t=$("#testsEditor").editor();$("#uploadForm").hide(),$("#linkEditorOnline, #submitArea").show(),$("#selectLanguageSelection").change(function(){e.editor("setSyntax",getLanguageFromServer($(this).val()))}),$("#bIsBasic").val(userData.bIsBasic?1:0),$("#bIsBasic").change(goMode),goMode(),bLycees&&(goBasicMode(),$("#buttonSave").hide()),bUserTests||$("#testsArea").hide(),initButtons();for(var o=null,r=0;r<userData.aSources.length;r++){var s=userData.aSources[r],a=s.sParams?JSON.parse(s.sParams):{};e.editor("open",s.sName,s.sName,s.sSource,getLanguageFromServer(a.sLangProg)),console.error(s.bActive),"1"==s.bActive&&(o=s.sName)}for(o&&(console.error("found idActive: "+o),e.editor("show",o)),selectFirstForComboLanguage(),r=0;r<userData.aTests.length;r++){var n=userData.aTests[r];t.editor("openPair",n.sName,n.sName,"in",n.sInput,"out",n.sOutput)}}var maxNbSources=20,maxNbTests=30,userData,dirty;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhc2suanMiXSwibmFtZXMiOlsic2F2ZSIsImNhbGxBamF4IiwidHJhbnNsYXRlIiwiZGlydHkiLCJlcnJvclR4dCIsImNvbnNvbGUiLCJlcnJvciIsInN1Ym1pdCIsIiQiLCJxdGlwIiwiZmlsZSIsImVkaXRvciIsInBsYXRmb3JtIiwidmFsaWRhdGUiLCJhbGVydCIsInRlc3RBbGwiLCJ0ZXN0cyIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJ0ZXN0ZXIiLCJpZCIsInRlc3QiLCJ0ZXN0RmlsZSIsInRlc3RJZCIsInBhcnNlSW50IiwicmVwbGFjZSIsInRlc3RMeWNlZSIsImluaXRCdXR0b25zIiwiY2xpY2siLCJuZXdTb3VyY2UiLCJuZXdUZXN0IiwibmV3SWQiLCJmaWxlc0xpc3QiLCJtYXhOYlNvdXJjZXMiLCJnZXRMYW5ndWFnZUZyb21TZXJ2ZXIiLCJ2YWwiLCJtYXhOYlRlc3RzIiwic2VsZWN0Rmlyc3RGb3JDb21ib0xhbmd1YWdlIiwic2VsZWN0ZWRMYW5nIiwic291cmNlcyIsImtleSIsImdldExhbmd1YWdlRm9yU2VydmVyIiwic3ludGF4IiwidXBkYXRlQ29tYm9MYW5ndWFnZSIsImhhbmRsZUNoYW5nZSIsImNoYW5nZSIsInNldFRvTm90TW9kaWZpZWQiLCJnb01vZGUiLCJnb0Jhc2ljTW9kZSIsImdvRXhwZXJ0TW9kZSIsInNob3ciLCJoaWRlIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInN0YXJ0RWRpdG9yIiwid2luZG93IiwiYmluZCIsInVzZXJEYXRhIiwiZ2V0VXNlckRhdGEiLCJzb3VyY2VzRWRpdG9yIiwidGVzdHNFZGl0b3IiLCJ0aGlzIiwiYklzQmFzaWMiLCJiTHljZWVzIiwiYlVzZXJUZXN0cyIsImlkQWN0aXZlIiwiaSIsImFTb3VyY2VzIiwic291cmNlIiwicGFyYW1zIiwic1BhcmFtcyIsIkpTT04iLCJwYXJzZSIsInNOYW1lIiwic1NvdXJjZSIsInNMYW5nUHJvZyIsImJBY3RpdmUiLCJhVGVzdHMiLCJzSW5w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QUFLLENBQy9DLEdBQUlFLEdBQVNYLFNBQVNVLFNBQVNELEdBQzNCRyxFQUFTRCxFQUFPRSxRQUFVQyxLQUFLQyxNQUFNSixFQUFPRSxXQUNoRFgsR0FBY2pELE9BQU8sT0FBUTBELEVBQU9LLE1BQU9MLEVBQU9LLE1BQzlDTCxFQUFPTSxRQUFTeEMsc0JBQXNCbUMsRUFBT00sWUFDakR2RSxRQUFRQyxNQUFNK0QsRUFBT1EsU0FDQyxLQUFsQlIsRUFBT1EsVUFDVFgsRUFBV0csRUFBT0ssT0FRdEIsSUFMSVIsSUFDRjdELFFBQVFDLE1BQU0sbUJBQW1CNEQsR0FDakNOLEVBQWNqRCxPQUFPLE9BQVF1RCxJQUUvQjVCLDhCQUNJNkIsRUFBRyxFQUFHQSxFQUFJVCxTQUFTb0IsT0FBTzNELE9BQVFnRCxJQUFLLENBQ3pDLEdBQUk3QyxHQUFPb0MsU0FBU29CLE9BQU9YLEVBQzNCTixHQUFZbEQsT0FBTyxXQUFZVyxFQUFLb0QsTUFBT3BELEVBQUtvRCxNQUM1QyxLQUFNcEQsRUFBS3lELE9BQVEsTUFBT3pELEVBQUswRCxVQTFOdkMsR0FBSTlDLGNBQWUsR0FDZkcsV0FBYSxHQUVicUIsU0FDQXZEIiwiZmlsZSI6InRhc2suanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbWF4TmJTb3VyY2VzID0gMjA7XG52YXIgbWF4TmJUZXN0cyA9IDMwO1xuXG52YXIgdXNlckRhdGE7XG52YXIgZGlydHk7XG5cbmZ1bmN0aW9uIHNhdmUoKSB7XG4gIGNhbGxBamF4KFxuICAgIHRyYW5zbGF0ZSgnU2F2ZScpLFxuICAgIGZ1bmN0aW9uKCkge1xuICAgICAgZGlydHkgPSBmYWxzZTtcbiAgICB9LFxuICAgIGZ1bmN0aW9uKGVycm9yVHh0KSB7IFxuICAgICAgY29uc29sZS5lcnJvcih0cmFuc2xhdGUoXCJzYXZlRXJyb3JcIikgKyBlcnJvclR4dCk7XG4gICAgfVxuICApO1xufVxuXG5mdW5jdGlvbiBzdWJtaXQoKSB7XG4gICQoXCJidXR0b25TdWJtaXRcIikucXRpcChcImhpZGVcIik7XG5cbiAgdmFyIGZpbGUgPSAkKCcjc291cmNlc0VkaXRvcicpLmVkaXRvcignZ2V0Q3VycmVudERvY3VtZW50Jyk7XG4gIGlmIChmaWxlKSB7XG4gICAgLy9wbGF0Zm9ybS5hc2tTdWJtaXNzaW9uKGZpbGUudGV4dCwgZ2V0TGFuZ3VhZ2VGb3JTZXJ2ZXIoZmlsZS5zeW50YXgpLCBudWxsKTtcbiAgICBwbGF0Zm9ybS52YWxpZGF0ZSgnZG9uZScpO1xuICB9IGVsc2Uge1xuICAgIGFsZXJ0KHRyYW5zbGF0ZShcIm5vU291cmNlU2VsZWN0ZWRcIikpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gdGVzdEFsbCgpIHtcbiAgdmFyIHRlc3RzID0gJCgnI3Rlc3RzRWRpdG9yJykuZWRpdG9yKCdnZXRBbGxEb2N1bWVudHMnKTtcbiAgaWYgKE9iamVjdC5rZXlzKHRlc3RzKS5sZW5ndGggPT0gMCkge1xuICAgIGFsZXJ0KHRyYW5zbGF0ZShcIm5vVGVzdFwiKSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGZpbGUgPSAkKCcjc291cmNlc0VkaXRvcicpLmVkaXRvcignZ2V0Q3VycmVudERvY3VtZW50Jyk7XG4gIGlmIChmaWxlKSB7XG4gICAgJCgnI3Rlc3RzX3Jlc3VsdHMnKS50ZXN0ZXIoJ3Rlc3QnLCBmaWxlLmlkLCAnYWxsJyk7XG4gIH0gZWxzZSB7XG4gICAgYWxlcnQodHJhbnNsYXRlKFwibm9Tb3VyY2VTZWxlY3RlZFwiKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdGVzdCgpIHtcbiAgdmFyIGZpbGUgPSAkKCcjc291cmNlc0VkaXRvcicpLmVkaXRvcignZ2V0Q3VycmVudERvY3VtZW50Jyk7XG4gIHZhciB0ZXN0RmlsZSA9ICQoJyN0ZXN0c0VkaXRvcicpLmVkaXRvcignZ2V0Q3VycmVudERvY3VtZW50Jyk7XG5cbiAgaWYgKGZpbGUgJiYgdGVzdEZpbGUpIHtcbiAgICB2YXIgdGVzdElkID0gcGFyc2VJbnQodGVzdEZpbGUuaWQucmVwbGFjZSgvW14wLTldL2csICcnKSk7XG4gICAgJCgnI3Rlc3RzX3Jlc3VsdHMnKS50ZXN0ZXIoJ3Rlc3QnLCBmaWxlLmlkLCB0ZXN0SWQpO1xuICB9IGVsc2UgaWYgKCFmaWxlKSB7XG4gICAgYWxlcnQodHJhbnNsYXRlKFwibm9Tb3VyY2VTZWxlY3RlZFwiKSk7XG4gIH0gZWxzZSBpZiAoIXRlc3RGaWxlKSB7XG4gICAgYWxlcnQodHJhbnNsYXRlKFwibm9UZXN0U2VsZWN0ZWRcIikpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRlc3RMeWNlZSgpIHtcbiAgdmFyIGZpbGUgPSAkKCcjc291cmNlc0VkaXRvcicpLmVkaXRvcignZ2V0Q3VycmVudERvY3VtZW50Jyk7XG4gIGlmIChmaWxlKSB7XG4gICAgJCgnI3Rlc3RzX3Jlc3VsdHMnKS50ZXN0ZXIoJ3Rlc3QnLCBmaWxlLmlkLCAnbHljZWUnKTtcbiAgfSBlbHNlIHtcbiAgICBhbGVydCh0cmFuc2xhdGUoXCJub1NvdXJjZVNlbGVjdGVkXCIpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0QnV0dG9ucygpIHtcbiAgJChcIiNidXR0b25TYXZlXCIpLmNsaWNrKHNhdmUpO1xuICAkKFwiI2J1dHRvblN1Ym1pdFwiKS5jbGljayhzdWJtaXQpO1xuICAkKFwiI2J1dHRvblRlc3RBbGxcIikuY2xpY2sodGVzdEFsbCk7XG4gICQoXCIjYnV0dG9uVGVzdFwiKS5jbGljayh0ZXN0KTtcbiAgJChcIiNidXR0b25UZXN0T25lXCIpLmNsaWNrKHRlc3RMeWNlZSk7XG5cbiAgJChcIiNzb3VyY2VzRWRpdG9yICNuZXdEb2NcIikuY2xpY2sobmV3U291cmNlKTtcbiAgJChcIiN0ZXN0c0VkaXRvciAjbmV3RG9jLCAjYnV0dG9uQWRkVGVzdFwiKS5jbGljayhuZXdUZXN0KTtcbn1cblxuZnVuY3Rpb24gbmV3U291cmNlKCkge1xuICB2YXIgZmlsZXNMaXN0ID0gJCgnI3NvdXJjZXNFZGl0b3InKS5lZGl0b3IoJ2dldEFsbERvY3VtZW50cycpO1xuXG4gIHZhciBuZXdJZDtcbiAgZm9yIChuZXdJZCA9IDE7IGZpbGVzTGlzdFtcIkNvZGVcIiArIG5ld0lkXTsgbmV3SWQrKyk7XG5cbiAgaWYgKG5ld0lkID4gbWF4TmJTb3VyY2VzKSB7XG4gICAgYWxlcnQodHJhbnNsYXRlKFwibWF4TmJTb3VyY2VzXCIpLnJlcGxhY2UoXCIlZFwiLCBtYXhOYlNvdXJjZXMpKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAkKCcjc291cmNlc0VkaXRvcicpLmVkaXRvcihcIm9wZW5cIixcbiAgICAgIFwiQ29kZVwiICsgbmV3SWQsXG4gICAgICBcIkNvZGVcIiArIG5ld0lkLFxuICAgICAgXCJcIixcbiAgICAgIGdldExhbmd1YWdlRnJvbVNlcnZlcigkKFwiI3NlbGVjdExhbmd1YWdlU2VsZWN0aW9uXCIpLnZhbCgpKVxuICApO1xufVxuXG5mdW5jdGlvbiBuZXdUZXN0KCkge1xuICB2YXIgZmlsZXNMaXN0ID0gJCgnI3Rlc3RzRWRpdG9yJykuZWRpdG9yKCdnZXRBbGxEb2N1bWVudHMnKTtcblxuICB2YXIgbmV3SWQ7XG4gIGZvciAobmV3SWQgPSAxOyBmaWxlc0xpc3RbXCJUZXN0XCIgKyBuZXdJZF07IG5ld0lkKyspO1xuXG4gIGlmIChuZXdJZCA+IG1heE5iVGVzdHMpIHtcbiAgICBhbGVydCh0cmFuc2xhdGUoXCJtYXhOYlRlc3RzXCIpLnJlcGxhY2UoXCIlZFwiLCBtYXhOYlRlc3RzKSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgJCgnI3Rlc3RzRWRpdG9yJykuZWRpdG9yKCdvcGVuUGFpcicsXG4gICAgICBcIlRlc3RcIiArIG5ld0lkLFxuICAgICAgXCJUZXN0XCIgKyBuZXdJZCxcbiAgICAgIFwiaW5cIiwgXCJcIixcbiAgICAgIFwib3V0XCIsIFwiXCJcbiAgKTtcbn1cblxuZnVuY3Rpb24gc2VsZWN0Rmlyc3RGb3JDb21ib0xhbmd1YWdlKCkge1xuICB2YXIgc2VsZWN0ZWRMYW5nID0gJChcIiNzZWxlY3RMYW5ndWFnZVNlbGVjdGlvblwiKS52YWwoKTtcbiAgaWYgKCFzZWxlY3RlZExhbmcpIHtcbiAgICBzZWxlY3RlZExhbmcgPSAnJztcbiAgfVxuICB2YXIgc291cmNlcyA9ICQoJyNzb3VyY2VzRWRpdG9yJykuZWRpdG9yKCdnZXRBbGxEb2N1bWVudHMnKTtcbiAgZm9yIChrZXkgaW4gc291cmNlcykge1xuICAgIGlmIChzZWxlY3RlZExhbmcgPT0gZ2V0TGFuZ3VhZ2VGb3JTZXJ2ZXIoc291cmNlc1trZXldLnN5bnRheCkpIHtcbiAgICAgICQoJyNzb3VyY2VzRWRpdG9yJykuZWRpdG9yKCdzaG93Jywga2V5KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgbmV3U291cmNlKCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNvbWJvTGFuZ3VhZ2UoKSB7IFxuICB2YXIgZmlsZSA9ICQoJyNzb3VyY2VzRWRpdG9yJykuZWRpdG9yKCdnZXRDdXJyZW50RG9jdW1lbnQnKTtcbiAgJChcIiNzZWxlY3RMYW5ndWFnZVNlbGVjdGlvblwiKS52YWwoZ2V0TGFuZ3VhZ2VGb3JTZXJ2ZXIoZmlsZS5zeW50YXgpKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGNoYW5nZSkge1xuICBkaXJ0eSA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIHNldFRvTm90TW9kaWZpZWQoKSB7XG4gIGRpcnR5ID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdvTW9kZSgpIHtcbiAgKCQoJyNiSXNCYXNpYycpLnZhbCgpID09IDEpID8gZ29CYXNpY01vZGUoKSA6IGdvRXhwZXJ0TW9kZSgpO1xufVxuXG5mdW5jdGlvbiBnb0Jhc2ljTW9kZSgpIHtcbiAgJChcIiNidXR0b25BZGRUZXN0RGl2XCIpLnNob3coKTtcbiAgJChcIiNzb3VyY2VzRWRpdG9yICNkb2NzVGFiTGlzdFwiKS5oaWRlKCk7XG4gICQoXCIjc291cmNlc0VkaXRvciAuQ29kZU1pcnJvclwiKS5hZGRDbGFzcygnYmFzaWMnKTtcbiAgJChcIiN0ZXN0c0VkaXRvciAjbmV3RG9jXCIpLmhpZGUoKTtcbiAgJChcIiNidXR0b25BZGRUZXN0RGl2XCIpLnNob3coKTtcbn1cblxuZnVuY3Rpb24gZ29FeHBlcnRNb2RlKCkge1xuICAkKFwiI2J1dHRvbkFkZFRlc3REaXZcIikuaGlkZSgpOyAgICBcbiAgJChcIiNzb3VyY2VzRWRpdG9yICNkb2NzVGFiTGlzdFwiKS5zaG93KCk7XG4gICQoXCIjc291cmNlc0VkaXRvciAuQ29kZU1pcnJvclwiKS5yZW1vdmVDbGFzcygnYmFzaWMnKTtcbiAgJChcIiN0ZXN0c0VkaXRvciAjbmV3RG9jXCIpLnNob3coKTtcbiAgJChcIiNidXR0b25BZGRUZXN0RGl2XCIpLmhpZGUoKTtcbn0gXG5cbmZ1bmN0aW9uIHN0YXJ0RWRpdG9yKCkge1xuICAkKHdpbmRvdykuYmluZCgnYmVmb3JldW5sb2FkJywgZnVuY3Rpb24oKSB7XG4gICAgaWYgKGRpcnR5KSB7XG4gICAgICByZXR1cm4gdHJhbnNsYXRlKFwidW5zYXZlZENoYW5nZXNcIik7XG4gICAgfVxuICB9KTtcblxuICB1c2VyRGF0YSA9IGdldFVzZXJEYXRhKCk7XG4gIHZhciBzb3VyY2VzRWRpdG9yID0gJCgnI3NvdXJjZXNFZGl0b3InKS5lZGl0b3IoKTtcbiAgc291cmNlc0VkaXRvci5lZGl0b3IoJ29wdGlvbicsICdjaGFuZ2VDYWxsYmFjaycsIGhhbmRsZUNoYW5nZSk7XG4gIHNvdXJjZXNFZGl0b3IuZWRpdG9yKCdvcHRpb24nLCAnc2F2ZUNhbGxiYWNrJywgc2F2ZSk7XG4gIHNvdXJjZXNFZGl0b3IuZWRpdG9yKCdvcHRpb24nLCAnc3dpdGNoQ2FsbGJhY2snLCB1cGRhdGVDb21ib0xhbmd1YWdlKTtcbiAgdmFyIHRlc3RzRWRpdG9yID0gJCgnI3Rlc3RzRWRpdG9yJykuZWRpdG9yKCk7XG5cbi8vICAkKCcjdGVzdHNfcmVzdWx0cycpLnRlc3RlcigpO1xuLy8gICQoJyNldmFsX3Jlc3VsdHMnKS5ldmFsdWF0b3IoKTtcbiAgXG4gICQoXCIjdXBsb2FkRm9ybVwiKS5oaWRlKCk7ICAgIFxuICAkKFwiI2xpbmtFZGl0b3JPbmxpbmUsICNzdWJtaXRBcmVhXCIpLnNob3coKTtcbiAgJChcIiNzZWxlY3RMYW5ndWFnZVNlbGVjdGlvblwiKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgc291cmNlc0VkaXRvci5lZGl0b3IoJ3NldFN5bnRheCcsIGdldExhbmd1YWdlRnJvbVNlcnZlcigkKHRoaXMpLnZhbCgpKSk7XG4gIH0pO1xuICAkKFwiI2JJc0Jhc2ljXCIpLnZhbCh1c2VyRGF0YS5iSXNCYXNpYyA/IDEgOiAwKTtcbiAgJChcIiNiSXNCYXNpY1wiKS5jaGFuZ2UoZ29Nb2RlKTtcbiAgZ29Nb2RlKCk7XG4gIGlmIChiTHljZWVzKSB7XG4gICAgZ29CYXNpY01vZGUoKTtcbiAgICAkKFwiI2J1dHRvblNhdmVcIikuaGlkZSgpO1xuICB9XG4gIGlmICghYlVzZXJUZXN0cykge1xuICAgICQoXCIjdGVzdHNBcmVhXCIpLmhpZGUoKTtcbiAgfVxuICBpbml0QnV0dG9ucygpO1xuICB2YXIgaWRBY3RpdmUgPSBudWxsO1xuICBmb3IodmFyIGk9IDA7IGkgPCB1c2VyRGF0YS5hU291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSB1c2VyRGF0YS5hU291cmNlc1tpXTtcbiAgICB2YXIgcGFyYW1zID0gc291cmNlLnNQYXJhbXMgPyBKU09OLnBhcnNlKHNvdXJjZS5zUGFyYW1zKSA6IHt9O1xuICAgIHNvdXJjZXNFZGl0b3IuZWRpdG9yKFwib3BlblwiLCBzb3VyY2Uuc05hbWUsIHNvdXJjZS5zTmFtZSxcbiAgICAgICAgc291cmNlLnNTb3VyY2UsIGdldExhbmd1YWdlRnJvbVNlcnZlcihwYXJhbXMuc0xhbmdQcm9nKSk7XG4gICAgY29uc29sZS5lcnJvcihzb3VyY2UuYkFjdGl2ZSk7XG4gICAgaWYgKHNvdXJjZS5iQWN0aXZlID09ICcxJykge1xuICAgICAgaWRBY3RpdmUgPSBzb3VyY2Uuc05hbWU7XG4gICAgfVxuICB9XG4gIGlmIChpZEFjdGl2ZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ2ZvdW5kIGlkQWN0aXZlOiAnK2lkQWN0aXZlKTtcbiAgICBzb3VyY2VzRWRpdG9yLmVkaXRvcihcInNob3dcIiwgaWRBY3RpdmUpO1xuICB9XG4gIHNlbGVjdEZpcnN0Rm9yQ29tYm9MYW5ndWFnZSgpO1xuICBmb3IoaT0gMDsgaSA8IHVzZXJEYXRhLmFUZXN0cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB0ZXN0ID0gdXNlckRhdGEuYVRlc3RzW2ldO1xuICAgIHRlc3RzRWRpdG9yLmVkaXRvcihcIm9wZW5QYWlyXCIsIHRlc3Quc05hbWUsIHRlc3Quc05hbWUsXG4gICAgICAgIFwiaW5cIiwgdGVzdC5zSW5wdXQsIFwib3V0XCIsIHRlc3Quc091dHB1dCk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
$.widget("fioi.editor",$.fioi.editor,{_create:function(){this._super(),this._cmDocs={};var t=this;CodeMirror.commands.autocomplete=function(t){CodeMirror.showHint(t,CodeMirror.hint.anyword)},this._cm=CodeMirror(this.element.get(0),{lineNumbers:!0,extraKeys:{"Ctrl-Space":"autocomplete",F11:function(t){t.setOption("fullScreen",!t.getOption("fullScreen"))},Esc:function(t){t.getOption("fullScreen")&&t.setOption("fullScreen",!1)},"Ctrl-S":function(e){t.options.saveCallback&&t.options.saveCallback()}}}),this._cm.on("change",function(e,i){t.options.changeCallback&&t.options.changeCallback(i)}),this._cm2=CodeMirror(this.element.get(0),{lineNumbers:!0}),$(this._cm2.getWrapperElement()).hide()},_createNewContainer:function(t){return this._superApply(arguments).hide()},open:function(t,e,i,s){this._superApply(arguments),this._cmDocs[t]=CodeMirror.Doc(i,s||"text/plain"),this.show(t)},openPair:function(t,e,i,s,o,n){this._superApply(arguments),this._cmDocs[t]=[CodeMirror.Doc(s),CodeMirror.Doc(n)],this.show(t)},show:function(t){$.isArray(this._cmDocs[t])?($(this._cm.getWrapperElement()).width(this.options.width/2).css("float","left"),this._cm.refresh(),this._cm.swapDoc(this._cmDocs[t][0]),$(this._cm2.getWrapperElement()).width(this.options.width/2).show(),this._cm2.refresh(),this._cm2.swapDoc(this._cmDocs[t][1])):($(this._cm.getWrapperElement()).width(this.options.width).css("float",""),this._cm.refresh(),this._cm.swapDoc(this._cmDocs[t]),$(this._cm2.getWrapperElement()).hide()),this._superApply(arguments),this.element.find(".docContainer").hide()},setSyntax:function(t){this._superApply(arguments),this._cm.setOption("mode",t)},_sync:function(){for(id in this._cmDocs)$.isArray(this._cmDocs[id])?(this._docs[id].find("textarea[name='"+this._getName(id,"text1")+"']").val(this._cmDocs[id][0].getValue()),this._docs[id].find("textarea[name='"+this._getName(id,"text2")+"']").val(this._cmDocs[id][1].getValue())):this._docs[id].find("textarea[name='"+this._getName(id,"text")+"']").val(this._cmDocs[id].getValue())},serialize:function(){return this._sync(),this._super()},getDocument:function(t){return this._sync(),this._superApply(arguments)}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkaXRvci5jb2RlbWlycm9yLmpzIl0sIm5hbWVzIjpbIiQiLCJ3aWRnZXQiLCJmaW9pIiwiZWRpdG9yIiwiX2NyZWF0ZSIsInRoaXMiLCJfc3VwZXIiLCJfY21Eb2NzIiwiQ29kZU1pcnJvciIsImNvbW1hbmRzIiwiYXV0b2NvbXBsZXRlIiwiY20iLCJzaG93SGludCIsImhpbnQiLCJhbnl3b3JkIiwiX2NtIiwiZWxlbWVudCIsImdldCIsImxpbmVOdW1iZXJzIiwiZXh0cmFLZXlzIiwiQ3RybC1TcGFjZSIsIkYxMSIsInNldE9wdGlvbiIsImdldE9wdGlvbiIsIkVzYyIsIkN0cmwtUyIsIm9wdGlvbnMiLCJzYXZlQ2FsbGJhY2siLCJvbiIsImNoYW5nZSIsImNoYW5nZUNhbGxiYWNrIiwiX2NtMiIsImdldFdyYXBwZXJFbGVtZW50IiwiaGlkZSIsIl9jcmVhdGVOZXdDb250YWluZXIiLCJpZCIsIl9zdXBlckFwcGx5IiwiYXJndW1lbnRzIiwib3BlbiIsInRpdGxlIiwidGV4dCIsInN5bnRheCIsIkRvYyIsInNob3ciLCJvcGVuUGFpciIsImxlZ2VuZDEiLCJ0ZXh0MSIsImxlZ2VuZDIiLCJ0ZXh0MiIsImlzQXJyYXkiLCJ3aWR0aCIsImNzcyIsInJlZnJlc2giLCJzd2FwRG9jIiwiZmluZCIsInNldFN5bnRheCIsIl9zeW5jIiwiX2RvY3MiLCJfZ2V0TmFtZSIsInZhbCIsImdldFZhbHVlIiwic2VyaWFsaXplIiwiZ2V0RG9jdW1lbnQiXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFFQyxPQUFPLGNBQWVELEVBQUVFLEtBQUtDLFFBQzdCQyxRQUFTLFdBQ1BDLEtBQUtDLFNBQ0xELEtBQUtFLFVBQ0wsSUFBSUosR0FBU0UsSUFDYkcsWUFBV0MsU0FBU0MsYUFBZSxTQUFTQyxHQUMxQ0gsV0FBV0ksU0FBU0QsRUFBSUgsV0FBV0ssS0FBS0MsVUFFMUNULEtBQUtVLElBQU1QLFdBQVdILEtBQUtXLFFBQVFDLElBQUksSUFDbkNDLGFBQWEsRUFDYkMsV0FDSUMs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QUFZQyIsImZpbGUiOiJlZGl0b3IuY29kZW1pcnJvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQud2lkZ2V0KFwiZmlvaS5lZGl0b3JcIiwgJC5maW9pLmVkaXRvciwge1xuICBfY3JlYXRlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9zdXBlcigpO1xuICAgIHRoaXMuX2NtRG9jcyA9IHt9O1xuICAgIHZhciBlZGl0b3IgPSB0aGlzO1xuICAgIENvZGVNaXJyb3IuY29tbWFuZHMuYXV0b2NvbXBsZXRlID0gZnVuY3Rpb24oY20pIHtcbiAgICAgIENvZGVNaXJyb3Iuc2hvd0hpbnQoY20sIENvZGVNaXJyb3IuaGludC5hbnl3b3JkKTtcbiAgICB9O1xuICAgIHRoaXMuX2NtID0gQ29kZU1pcnJvcih0aGlzLmVsZW1lbnQuZ2V0KDApLCB7XG4gICAgICAgIGxpbmVOdW1iZXJzOiB0cnVlLFxuICAgICAgICBleHRyYUtleXM6IHtcbiAgICAgICAgICAgIFwiQ3RybC1TcGFjZVwiOiBcImF1dG9jb21wbGV0ZVwiLFxuICAgICAgICAgICAgXCJGMTFcIjogZnVuY3Rpb24oY20pIHtcbiAgICAgICAgICAgICAgY20uc2V0T3B0aW9uKFwiZnVsbFNjcmVlblwiLCAhY20uZ2V0T3B0aW9uKFwiZnVsbFNjcmVlblwiKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJFc2NcIjogZnVuY3Rpb24oY20pIHtcbiAgICAgICAgICAgICAgaWYgKGNtLmdldE9wdGlvbihcImZ1bGxTY3JlZW5cIikpIGNtLnNldE9wdGlvbihcImZ1bGxTY3JlZW5cIiwgZmFsc2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiQ3RybC1TXCI6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICAgICAgICAgIGlmIChlZGl0b3Iub3B0aW9ucy5zYXZlQ2FsbGJhY2spIGVkaXRvci5vcHRpb25zLnNhdmVDYWxsYmFjaygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuX2NtLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKGNtLCBjaGFuZ2UpIHtcbiAgICAgIGlmIChlZGl0b3Iub3B0aW9ucy5jaGFuZ2VDYWxsYmFjaykgZWRpdG9yLm9wdGlvbnMuY2hhbmdlQ2FsbGJhY2soY2hhbmdlKTtcbiAgICB9KTtcbiAgICB0aGlzLl9jbTIgPSBDb2RlTWlycm9yKHRoaXMuZWxlbWVudC5nZXQoMCksIHtsaW5lTnVtYmVyczogdHJ1ZX0pO1xuICAgICQodGhpcy5fY20yLmdldFdyYXBwZXJFbGVtZW50KCkpLmhpZGUoKTtcbiAgfSxcblxuICBfY3JlYXRlTmV3Q29udGFpbmVyOiBmdW5jdGlvbihpZCkge1xuICAgIHJldHVybiB0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cykuaGlkZSgpO1xuICB9LFxuXG4gIG9wZW46IGZ1bmN0aW9uKGlkLCB0aXRsZSwgdGV4dCwgc3ludGF4KSB7XG4gICAgdGhpcy5fc3VwZXJBcHBseShhcmd1bWVudHMpO1xuICAgIHRoaXMuX2NtRG9jc1tpZF0gPSBDb2RlTWlycm9yLkRvYyh0ZXh0LCBzeW50YXggfHwgXCJ0ZXh0L3BsYWluXCIpO1xuICAgIHRoaXMuc2hvdyhpZCk7XG4gIH0sXG5cbiAgb3BlblBhaXI6IGZ1bmN0aW9uKGlkLCB0aXRsZSwgbGVnZW5kMSwgdGV4dDEsIGxlZ2VuZDIsIHRleHQyKSB7XG4gICAgdGhpcy5fc3VwZXJBcHBseShhcmd1bWVudHMpO1xuICAgIHRoaXMuX2NtRG9jc1tpZF0gPSBbQ29kZU1pcnJvci5Eb2ModGV4dDEpLCBDb2RlTWlycm9yLkRvYyh0ZXh0MildO1xuICAgIHRoaXMuc2hvdyhpZCk7XG4gIH0sXG5cbiAgc2hvdzogZnVuY3Rpb24oaWQpIHtcbiAgICBpZiAoJC5pc0FycmF5KHRoaXMuX2NtRG9jc1tpZF0pKSB7XG4gICAgICAkKHRoaXMuX2NtLmdldFdyYXBwZXJFbGVtZW50KCkpLndpZHRoKHRoaXMub3B0aW9ucy53aWR0aCAvIDIpLmNzcygnZmxvYXQnLCAnbGVmdCcpO1xuICAgICAgdGhpcy5fY20ucmVmcmVzaCgpO1xuICAgICAgdGhpcy5fY20uc3dhcERvYyh0aGlzLl9jbURvY3NbaWRdWzBdKTtcbiAgICAgICQodGhpcy5fY20yLmdldFdyYXBwZXJFbGVtZW50KCkpLndpZHRoKHRoaXMub3B0aW9ucy53aWR0aCAvIDIpLnNob3coKTtcbiAgICAgIHRoaXMuX2NtMi5yZWZyZXNoKCk7XG4gICAgICB0aGlzLl9jbTIuc3dhcERvYyh0aGlzLl9jbURvY3NbaWRdWzFdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCh0aGlzLl9jbS5nZXRXcmFwcGVyRWxlbWVudCgpKS53aWR0aCh0aGlzLm9wdGlvbnMud2lkdGgpLmNzcygnZmxvYXQnLCAnJyk7XG4gICAgICB0aGlzLl9jbS5yZWZyZXNoKCk7XG4gICAgICB0aGlzLl9jbS5zd2FwRG9jKHRoaXMuX2NtRG9jc1tpZF0pO1xuICAgICAgJCh0aGlzLl9jbTIuZ2V0V3JhcHBlckVsZW1lbnQoKSkuaGlkZSgpO1xuICAgIH1cbiAgICB0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyk7XG4gICAgdGhpcy5lbGVtZW50LmZpbmQoXCIuZG9jQ29udGFpbmVyXCIpLmhpZGUoKTtcbiAgfSxcblxuICBzZXRTeW50YXg6IGZ1bmN0aW9uKHN5bnRheCkge1xuICAgIHRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKTtcbiAgICB0aGlzLl9jbS5zZXRPcHRpb24oXCJtb2RlXCIsIHN5bnRheCk7XG4gIH0sXG5cbiAgX3N5bmM6IGZ1bmN0aW9uKCkge1xuICAgIGZvciAoaWQgaW4gdGhpcy5fY21Eb2NzKSB7XG4gICAgICBpZiAoJC5pc0FycmF5KHRoaXMuX2NtRG9jc1tpZF0pKSB7XG4gICAgICAgIHRoaXMuX2RvY3NbaWRdXG4gICAgICAgICAgICAuZmluZChcInRleHRhcmVhW25hbWU9J1wiICsgdGhpcy5fZ2V0TmFtZShpZCwgJ3RleHQxJykgKyBcIiddXCIpXG4gICAgICAgICAgICAudmFsKHRoaXMuX2NtRG9jc1tpZF1bMF0uZ2V0VmFsdWUoKSk7XG4gICAgICAgIHRoaXMuX2RvY3NbaWRdXG4gICAgICAgICAgICAuZmluZChcInRleHRhcmVhW25hbWU9J1wiICsgdGhpcy5fZ2V0TmFtZShpZCwgJ3RleHQyJykgKyBcIiddXCIpXG4gICAgICAgICAgICAudmFsKHRoaXMuX2NtRG9jc1tpZF1bMV0uZ2V0VmFsdWUoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9kb2NzW2lkXVxuICAgICAgICAgICAgLmZpbmQoXCJ0ZXh0YXJlYVtuYW1lPSdcIiArIHRoaXMuX2dldE5hbWUoaWQsICd0ZXh0JykgKyBcIiddXCIpXG4gICAgICAgICAgICAudmFsKHRoaXMuX2NtRG9jc1tpZF0uZ2V0VmFsdWUoKSk7XG4gICAgICB9IFxuICAgIH1cbiAgfSxcblxuICBzZXJpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3N5bmMoKTtcbiAgICByZXR1cm4gdGhpcy5fc3VwZXIoKTtcbiAgfSxcbiAgXG4gIGdldERvY3VtZW50OiBmdW5jdGlvbihpZCkge1xuICAgIHRoaXMuX3N5bmMoKTtcbiAgICByZXR1cm4gdGhpcy5fc3VwZXJBcHBseShhcmd1bWVudHMpO1xuICB9XG59KTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
$.widget("fioi.tester",{test:function(t,e){var r=($("#tests_results"),this);callAjax(translate("testing"),function(t){r.element.html(t)},function(t){alert(translate("XHRerror")+t),r.element.html(translate("evalError"))},e,t)}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3Rlci5qcyJdLCJuYW1lcyI6WyIkIiwid2lkZ2V0IiwidGVzdCIsImZpbGVJZCIsInRlc3RJZCIsInNlbGYiLCJ0aGlzIiwiY2FsbEFqYXgiLCJ0cmFuc2xhdGUiLCJyZXN1bHQiLCJlbGVtZW50IiwiaHRtbCIsImVycm9yVHh0IiwiYWxlcnQiXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFFQyxPQUFPLGVBQ1BDLEtBQU0sU0FBU0MsRUFBUUMsR0FDckIsR0FDSUMsSUFEU0wsRUFBRSxrQkFDSk0sS0FDWEMsVUFDRUMsVUFBVSxXQUNWLFNBQVNDLEdBQ1BKLEVBQUtLLFFBQVFDLEtBQUtGLElBRXBCLFNBQVNHLEdBQ1BDLE1BQU1MLFVBQVUsWUFBY0ksR0FDOUJQLEVBQUtLLFFBQVFDLEtBQUtILFVBQVUsZUFFOUJKLEVBQ0FEIiwiZmlsZSI6InRlc3Rlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQud2lkZ2V0KFwiZmlvaS50ZXN0ZXJcIiwge1xuICB0ZXN0OiBmdW5jdGlvbihmaWxlSWQsIHRlc3RJZCkge1xuICAgIHZhciBkaXZSZXMgPSAkKFwiI3Rlc3RzX3Jlc3VsdHNcIik7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGNhbGxBamF4KFxuICAgICAgdHJhbnNsYXRlKFwidGVzdGluZ1wiKSxcbiAgICAgIGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICBzZWxmLmVsZW1lbnQuaHRtbChyZXN1bHQpO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uKGVycm9yVHh0KSB7XG4gICAgICAgIGFsZXJ0KHRyYW5zbGF0ZShcIlhIUmVycm9yXCIpICsgZXJyb3JUeHQpO1xuICAgICAgICBzZWxmLmVsZW1lbnQuaHRtbCh0cmFuc2xhdGUoXCJldmFsRXJyb3JcIikpO1xuICAgICAgfSxcbiAgICAgIHRlc3RJZCxcbiAgICAgIGZpbGVJZFxuICAgICk7XG4gIH1cbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
$.widget("fioi.evaluator",{submit:function(t,n,a){var o=this;callAjax(translate("submit"),function(){$("#sSourceContents").val(t),n&&$("#sExtension").val(n),$("#bNoSave").val(a?1:0),$.ajax({type:"POST",url:$("#submitForm").attr("action")+"&sToken="+sToken+"&sPlatform="+sPlatform,data:$("#submitForm").serialize(),dataType:"json",async:!1,success:function(t,n,a){o.element.html(t.content);var e=o.element.offset();$("body").scrollTop(e.top-100),$(".evaluation-correction").length>0?notifyTaskSubmissionStatus(!0,t.platformToken):notifyTaskSubmissionStatus(!1,t.platformToken)},error:function(t,n,a){alertAJAXError(t,n,a),alert(translate("XHRerror")+translate("invalidAnswer"))},complete:function(){$.unblockUI(),this.saveRunning=!1}})},function(t){alert(translate("XHRerror")+t)},null,null,!1)}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2YWx1YXRvci5qcyJdLCJuYW1lcyI6WyIkIiwid2lkZ2V0Iiwic3VibWl0IiwiZmlsZUNvbnRlbnRzIiwiZmlsZVN5bnRheCIsIm5vU2F2ZSIsInNlbGYiLCJ0aGlzIiwiY2FsbEFqYXgiLCJ0cmFuc2xhdGUiLCJ2YWwiLCJhamF4IiwidHlwZSIsInVybCIsImF0dHIiLCJzVG9rZW4iLCJzUGxhdGZvcm0iLCJkYXRhIiwic2VyaWFsaXplIiwiZGF0YVR5cGUiLCJhc3luYyIsInN1Y2Nlc3MiLCJ0ZXh0U3RhdHVzIiwiWE1MSHR0cFJlcXVlc3QiLCJlbGVtZW50IiwiaHRtbCIsImNvbnRlbnQiLCJvZmZzZXQiLCJzY3JvbGxUb3AiLCJ0b3AiLCJsZW5ndGgiLCJub3RpZnlUYXNrU3VibWlzc2lvblN0YXR1cyIsInBsYXRmb3JtVG9rZW4iLCJlcnJvciIsImVycm9yVGhyb3duIiwiYWxlcnRBSkFYRXJyb3IiLCJhbGVydCIsImNvbXBsZXRlIiwidW5ibG9ja1VJIiwic2F2ZVJ1bm5pbmciLCJlcnJvclR4dCJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUVDLE9BQU8sa0JBQ1BDLE9BQVEsU0FBU0MsRUFBY0MsRUFBWUMsR0FDekMsR0FBSUMsR0FBT0MsSUFDWEMsVUFDRUMsVUFBVSxVQUNWLFdBQ0VULEVBQUUsb0JBQW9CVSxJQUFJUCxHQUN0QkMsR0FDREosRUFBRSxlQUFlVSxJQUFJTixHQUV4QkosRUFBRSxZQUFZVSxJQUFJTCxFQUFTLEVBQUksR0FFL0JMLEVBQUVXLE1BQ0FDLEtBQUssT0FDTEMsSUFBS2IsRUFBRSxlQUFlYyxLQUFLLFVBQVksV0FBYUMsT0FBUyxjQUFnQkMsVUFDN0VDLEtBQU1qQixFQUFFLGVBQWVrQixZQUN2QkMsU0FBVSxPQUNWQyxPQUFPLEVBQ1BDLFFBQVMsU0FBU0osRUFBTUssRUFBWUMsR0FDbENqQixFQUFLa0IsUUFBUUMsS0FBS1IsRUFBS1MsUUFFdkIsSUFBSUMsR0FBU3JCLEVBQUtrQixRQUFRRyxRQUMxQjNCLEdBQUUsUUFBUTRCLFVBQVVELEVBQU9FLElBQU0sS0FHN0I3QixFQUFFLDBCQUEwQjhCLE9BQVMsRUFDdkNDLDRCQUEyQixFQUFNZCxFQUFLZSxlQUV0Q0QsNEJBQTJCLEVBQU9kLEVBQUtlLGdCQUczQ0MsTUFBTyxTQUFVVixFQUFnQkQsRUFBWVksR0FDM0NDLGVBQWVaLEVBQWdCRCxFQUFZWSxHQUMzQ0UsTUFBTTNCLFVBQVUsWUFBY0EsVUFBVSxtQkFFMUM0QixTQUFVLFdBQ1JyQyxFQUFFc0MsWUFFRi9CLEtBQUtnQyxhQUFjLE1BSXpCLFNBQVNDLEdBQ1BKLE1BQU0zQixVQUFVLFlBQWMrQixJQUVoQyxLQUNBLE1BQ0EiLCJmaWxlIjoiZXZhbHVhdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJC53aWRnZXQoXCJmaW9pLmV2YWx1YXRvclwiLCB7XG4gIHN1Ym1pdDogZnVuY3Rpb24oZmlsZUNvbnRlbnRzLCBmaWxlU3ludGF4LCBub1NhdmUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgY2FsbEFqYXgoXG4gICAgICB0cmFuc2xhdGUoJ3N1Ym1pdCcpLFxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICQoXCIjc1NvdXJjZUNvbnRlbnRzXCIpLnZhbChmaWxlQ29udGVudHMpO1xuICAgICAgICBpZiAoZmlsZVN5bnRheCkge1xuICAgICAgICAgICAkKFwiI3NFeHRlbnNpb25cIikudmFsKGZpbGVTeW50YXgpO1xuICAgICAgICB9XG4gICAgICAgICQoXCIjYk5vU2F2ZVwiKS52YWwobm9TYXZlID8gMSA6IDApO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgdHlwZTonUE9TVCcsXG4gICAgICAgICAgdXJsOiAkKFwiI3N1Ym1pdEZvcm1cIikuYXR0cignYWN0aW9uJykgKyAnJnNUb2tlbj0nICsgc1Rva2VuICsgJyZzUGxhdGZvcm09JyArIHNQbGF0Zm9ybSxcbiAgICAgICAgICBkYXRhOiAkKFwiI3N1Ym1pdEZvcm1cIikuc2VyaWFsaXplKCksXG4gICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywgWE1MSHR0cFJlcXVlc3QpIHtcbiAgICAgICAgICAgIHNlbGYuZWxlbWVudC5odG1sKGRhdGEuY29udGVudCk7XG5cbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSBzZWxmLmVsZW1lbnQub2Zmc2V0KCk7XG4gICAgICAgICAgICAkKFwiYm9keVwiKS5zY3JvbGxUb3Aob2Zmc2V0LnRvcCAtIDEwMCk7XG5cbiAgICAgICAgICAgIC8vIEV2YWx1YXRpb24gbm90aWZpY2F0aW9uICh0YXNrL3NjcmlwdHMvY2xpZW50LmpzKVxuICAgICAgICAgICAgaWYgKCQoJy5ldmFsdWF0aW9uLWNvcnJlY3Rpb24nKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIG5vdGlmeVRhc2tTdWJtaXNzaW9uU3RhdHVzKHRydWUsIGRhdGEucGxhdGZvcm1Ub2tlbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBub3RpZnlUYXNrU3VibWlzc2lvblN0YXR1cyhmYWxzZSwgZGF0YS5wbGF0Zm9ybVRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoWE1MSHR0cFJlcXVlc3QsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XG4gICAgICAgICAgICBhbGVydEFKQVhFcnJvcihYTUxIdHRwUmVxdWVzdCwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pXG4gICAgICAgICAgICBhbGVydCh0cmFuc2xhdGUoXCJYSFJlcnJvclwiKSArIHRyYW5zbGF0ZShcImludmFsaWRBbnN3ZXJcIikpOyAgXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkLnVuYmxvY2tVSSgpO1xuICAgICAgICAgICAgLy9wbGFuQXV0b1NhdmUoKTtcbiAgICAgICAgICAgIHRoaXMuc2F2ZVJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pOyAgICAgICAgICAgICAgIFxuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uKGVycm9yVHh0KXtcbiAgICAgICAgYWxlcnQodHJhbnNsYXRlKFwiWEhSZXJyb3JcIikgKyBlcnJvclR4dCk7XG4gICAgICB9LFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICBmYWxzZVxuICAgICk7XG4gIH1cbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9